export {};

declare global {
  namespace Amity {
    type GroupType = 'channel' | 'community';

    type Group = {
      membersCount: number;
    };

    type Member<T extends GroupType> = {
      userId: Amity.User['userId'];
    } & (T extends 'channel'
      ? {
          channelId: Amity.Channel['channelId'];
          membership: 'member' | 'none' | 'banned';
          readToSegment: number;
          lastMentionedSegment: number;
        }
      : T extends 'community'
      ? {
          communityId: Amity.Community['communityId'];
          communityMembership: 'member' | 'none' | 'banned';
        }
      : never) &
      Amity.Timestamps;

    type Membership<T extends GroupType> = {
      isBanned: boolean;
      isMuted: boolean;
      muteTimeout: string;
      lastActivity: Amity.timestamp;
    } & Member<T> &
      Amity.Accredited;
  }
}
